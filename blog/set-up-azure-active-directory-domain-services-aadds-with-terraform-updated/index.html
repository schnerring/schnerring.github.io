<!doctype html><html lang=en theme=dark>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<link rel=preload as=font type=font/woff2 href=/fonts/roboto-slab-latin-400.woff2 crossorigin=anonymous>
<link rel=prefetch as=font type=font/woff2 href=/fonts/roboto-slab-latin-700.woff2 crossorigin=anonymous>
<link rel=preload as=font type=font/woff2 href=/fonts/fira-code-latin-300.woff2 crossorigin=anonymous>
<link rel=preload as=font type=font/woff2 href=/fonts/fira-code-latin-400.woff2 crossorigin=anonymous>
<link rel=prefetch as=font type=font/woff2 href=/fonts/fira-code-latin-700.woff2 crossorigin=anonymous>
<meta name=robots content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<title>Set Up Azure Active Directory Domain Services (AADDS) With Terraform</title>
<meta name=description content="I wanted to revisit this topic for a while because the previous guide I wrote about setting up Azure Active Directory Domain Services (AADDS) with Terraform is outdated. However, the article still attracts around 100 visitors per month. People also keep downloading the deprecated Terraform module I created. Time to set things right!
">
<link rel=canonical href=https://schnerring.net/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/>
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://schnerring.net/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover.jpg">
<meta name=twitter:title content="Set Up Azure Active Directory Domain Services (AADDS) With Terraform">
<meta name=twitter:description content="I wanted to revisit this topic for a while because the previous guide I wrote about setting up Azure Active Directory Domain Services (AADDS) with Terraform is outdated. However, the article still attracts around 100 visitors per month. People also keep downloading the deprecated Terraform module I created. Time to set things right!">
<meta property="og:title" content="Set Up Azure Active Directory Domain Services (AADDS) With Terraform">
<meta property="og:description" content="I wanted to revisit this topic for a while because the previous guide I wrote about setting up Azure Active Directory Domain Services (AADDS) with Terraform is outdated. However, the article still attracts around 100 visitors per month. People also keep downloading the deprecated Terraform module I created. Time to set things right!">
<meta property="og:type" content="article">
<meta property="og:url" content="https://schnerring.net/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/"><meta property="og:image" content="https://schnerring.net/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover.jpg"><meta property="article:section" content="blog">
<meta property="article:published_time" content="2022-02-20T06:05:36+01:00">
<meta property="article:modified_time" content="2022-02-20T06:05:36+01:00">
<meta itemprop=name content="Set Up Azure Active Directory Domain Services (AADDS) With Terraform">
<meta itemprop=description content="I wanted to revisit this topic for a while because the previous guide I wrote about setting up Azure Active Directory Domain Services (AADDS) with Terraform is outdated. However, the article still attracts around 100 visitors per month. People also keep downloading the deprecated Terraform module I created. Time to set things right!"><meta itemprop=datePublished content="2022-02-20T06:05:36+01:00">
<meta itemprop=dateModified content="2022-02-20T06:05:36+01:00">
<meta itemprop=wordCount content="757"><meta itemprop=image content="https://schnerring.net/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover.jpg">
<meta itemprop=keywords content="AADDS,ARM,Azure,Azure Active Directory Domain Services,Cloud,IaC,Infrastructure As Code,Terraform,">
<script async defer data-domain=schnerring.net src=https://plausible.schnerring.net/js/plausible.js></script>
<style>

┌─────────────────────────────────────────────────────────────────────────────────┐
│                                                                                 │
│   This version of postcss-preset-env is not optimised to work with PostCSS 8.   │
│                Please update to version 7 of PostCSS Preset Env.                │
│                                                                                 │
│                    If you find issues, you can report it at:                    │
│          https://github.com/csstools/postcss-plugins/issues/new/choose          │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
			

@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:100;src:local("Roboto Slab Thin "),local("Roboto Slab-Thin"),url(/fonts/roboto-slab-latin-100.woff2) format("woff2"),url(/fonts/roboto-slab-latin-100.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:200;src:local("Roboto Slab Extra Light "),local("Roboto Slab-Extra Light"),url(/fonts/roboto-slab-latin-200.woff2) format("woff2"),url(/fonts/roboto-slab-latin-200.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:300;src:local("Roboto Slab Light "),local("Roboto Slab-Light"),url(/fonts/roboto-slab-latin-300.woff2) format("woff2"),url(/fonts/roboto-slab-latin-300.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:400;src:local("Roboto Slab Regular "),local("Roboto Slab-Regular"),url(/fonts/roboto-slab-latin-400.woff2) format("woff2"),url(/fonts/roboto-slab-latin-400.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:500;src:local("Roboto Slab Medium "),local("Roboto Slab-Medium"),url(/fonts/roboto-slab-latin-500.woff2) format("woff2"),url(/fonts/roboto-slab-latin-500.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:600;src:local("Roboto Slab SemiBold "),local("Roboto Slab-SemiBold"),url(/fonts/roboto-slab-latin-600.woff2) format("woff2"),url(/fonts/roboto-slab-latin-600.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:700;src:local("Roboto Slab Bold "),local("Roboto Slab-Bold"),url(/fonts/roboto-slab-latin-700.woff2) format("woff2"),url(/fonts/roboto-slab-latin-700.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:800;src:local("Roboto Slab ExtraBold "),local("Roboto Slab-ExtraBold"),url(/fonts/roboto-slab-latin-800.woff2) format("woff2"),url(/fonts/roboto-slab-latin-800.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:900;src:local("Roboto Slab Black "),local("Roboto Slab-Black"),url(/fonts/roboto-slab-latin-900.woff2) format("woff2"),url(/fonts/roboto-slab-latin-900.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:300;src:local("Fira Code Light "),local("Fira Code-Light"),url(/fonts/fira-code-latin-300.woff2) format("woff2"),url(/fonts/fira-code-latin-300.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:400;src:local("Fira Code Regular "),local("Fira Code-Regular"),url(/fonts/fira-code-latin-400.woff2) format("woff2"),url(/fonts/fira-code-latin-400.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:500;src:local("Fira Code Medium "),local("Fira Code-Medium"),url(/fonts/fira-code-latin-500.woff2) format("woff2"),url(/fonts/fira-code-latin-500.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:600;src:local("Fira Code SemiBold "),local("Fira Code-SemiBold"),url(/fonts/fira-code-latin-600.woff2) format("woff2"),url(/fonts/fira-code-latin-600.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:700;src:local("Fira Code Bold "),local("Fira Code-Bold"),url(/fonts/fira-code-latin-700.woff2) format("woff2"),url(/fonts/fira-code-latin-700.woff) format("woff")}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}:root[theme=light]{--bg:var(--bg0_h);--bg0:#fbf1c7;--bg0_h:#f9f5d7;--bg0_s:#f2e5bc;--bg1:#ebdbb2;--bg2:#d5c4a1;--bg3:#bdae93;--bg4:#a89984;--fg:var(--fg1);--fg0:#282828;--fg1:#3c3836;--fg2:#504945;--fg3:#665c54;--fg4:#7c6f64;--gray1:var(--fg4);--gray2:#928374;--red1:#cc241d;--red2:#9d0006;--green1:#98971a;--green2:#797403;--yellow1:#d79921;--yellow2:#b57614;--blue1:#458588;--blue2:#076678;--purple1:#b16286;--purple2:#8f3f71;--aqua1:#689d6a;--aqua2:#427b58;--orange1:#d65d0e;--orange2:#af3a03}:root[theme=light] .light--hidden{display:none}:root[theme=dark]{--bg:var(--bg0_h);--bg0:#282828;--bg0_h:#1d2021;--bg0_s:#32302f;--bg1:#3c3836;--bg2:#504945;--bg3:#665c54;--bg4:#7c6f64;--fg:var(--fg1);--fg0:#fbf1c7;--fg1:#ebdbb2;--fg2:#d5c4a1;--fg3:#bdae93;--fg4:#a89984;--gray1:var(--fg4);--gray2:#928374;--red1:#cc241d;--red2:#fb4934;--green1:#98971a;--green2:#b8bb26;--yellow1:#d79921;--yellow2:#fabd2f;--blue1:#458588;--blue2:#83a598;--purple1:#b16286;--purple2:#d3869b;--aqua1:#689d6a;--aqua2:#8ec07c;--orange1:#d65d0e;--orange2:#fe8019}:root[theme=dark] .dark--hidden{display:none}:root{--primary:var(--aqua1);--primary-alt:var(--aqua2);--font-monospace:"Fira Code","Lucida Console",Monaco,monospace;--font-sans-serif:Verdana,Helvetica,sans-serif;--font-serif:"Roboto Slab",Georgia,serif}html{font-family:Roboto Slab,Georgia,serif;font-family:var(--font-serif);font-size:1rem;scroll-behavior:smooth}body{word-wrap:break-word;background:var(--bg);color:var(--fg);line-height:1.675}strong{letter-spacing:.35px}a{color:inherit;text-decoration:none}a.link--external:after{content:"\2009↗"}img{border:2px solid var(--bg1);height:auto;max-width:100%}::-moz-selection{background:var(--bg4);color:var(--fg0)}::selection{background:var(--bg4);color:var(--fg0)}h1,h2,h3,h4,h5{color:var(--fg0);font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace);font-weight:300;line-height:1.4}h1 code,h2 code,h3 code,h4 code,h5 code{font-size:1em}h2,h3,h4,h5{border-bottom:1px solid var(--bg1)}h1,h2{font-weight:400}h1{font-size:1.875rem}h2{font-size:1.75rem}h3{font-size:1.625rem}@media (min-width:768px){h1{font-size:2.375rem}h2{font-size:2rem}h3{font-size:1.75rem}}h4{font-size:1.5rem}h5{font-size:1.375rem}table{border-collapse:collapse;margin:2rem 0;table-layout:fixed;width:100%}table,td,th{border:1px solid var(--bg1);padding:.5rem}hr{background:var(--bg1);border:none;height:1px;margin:3rem auto;width:80%}blockquote,code,pre{border-radius:.2rem;padding:0 .2em}pre code{padding:0}blockquote,code,pre,th{background:var(--bg1)}code,pre,th{font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace)}code code{background:var(--bg2)}blockquote,pre{padding:1rem}pre{background:var(--bg1)!important;overflow:auto}pre code{background:none}blockquote{border-left:5px solid var(--primary-alt);margin:.5rem 0}blockquote code{background:var(--bg2)}blockquote p:first-of-type{margin-top:0}blockquote p:last-of-type{margin-bottom:0}pre::-webkit-scrollbar{height:.5rem;scrollbar-width:auto}pre::-webkit-scrollbar-track{background:var(--bg2);border-radius:.2rem}pre::-webkit-scrollbar-thumb{background:var(--bg4);border-radius:.2rem}.layout{display:grid;grid-template-areas:"header" "main" "footer";grid-template-rows:auto 1fr auto;height:100vh}main{align-items:start;display:grid;grid-area:main;grid-template-areas:"empty content sidebar";grid-template-columns:1fr minmax(0,650px) 4fr}header{background:var(--bg1);grid-area:header}footer{grid-area:footer}footer,main{margin:.5em 1.1em}.content{grid-area:content}.sidebar{display:none;flex-direction:column;grid-area:sidebar;margin-top:3rem;position:-webkit-sticky;position:sticky;top:2rem}@media (min-width:992px){.sidebar{display:flex}}header{display:grid;font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace);font-size:1.125rem;grid-template-areas:"heading search nav theme-toggle";grid-template-columns:auto auto 1fr auto;padding:.75rem}.logo{color:var(--fg0);display:flex;font-weight:700;grid-area:heading}.logo:hover .logo__cursor{-webkit-animation:blink 1s infinite;animation:blink 1s infinite;opacity:1}.logo__chevron,.logo__cursor{margin-left:.5rem}.logo__cursor{opacity:0}.logo__text{display:none}@media (min-width:768px){.logo__text{display:block}}.search{display:flex;grid-area:search;margin:0 1rem}#search__text{background:var(--bg2);border:1px solid var(--bg2);border-radius:.2rem;caret-color:var(--fg);color:var(--fg);outline:none;padding:0 .5rem;width:100%}#search__text:hover{border-color:var(--bg3)}#search__text:focus{border-color:var(--bg4)}#search__text::-moz-placeholder{color:var(--fg3)}#search__text:-ms-input-placeholder{color:var(--fg3)}#search__text::placeholder{color:var(--fg3)}#search__text[type=search]::-webkit-search-cancel-button{-webkit-appearance:none;appearance:none}#search__suggestions{background:var(--bg);border-radius:.2rem;box-shadow:0 .5rem 1rem var(--bg1);font-family:Roboto Slab,Georgia,serif;font-family:var(--font-serif);left:0;margin-top:2rem;position:absolute;width:95vw;z-index:1000}@media (min-width:768px){.search{position:relative}#search__suggestions{width:60vw}}.search__suggestions--hidden{display:none}.search__suggestion-item{border-bottom:1px dashed var(--bg2);display:grid;grid-template-columns:1fr 2fr}.search__suggestion-item.focus-visible,.search__suggestion-item:focus,.search__suggestion-item:hover{background:var(--bg1);cursor:pointer;outline:none}.search__suggestion-item:focus,.search__suggestion-item:focus-visible,.search__suggestion-item:hover{background:var(--bg1);cursor:pointer;outline:none}.search__suggestion-item:last-child{border:none}.search__suggestion-description,.search__suggestion-title{margin:1rem 0;padding:0 1rem}.search__suggestion-title{font-weight:700}.search__suggestion-description{border-left:1px solid var(--bg2)}.search__no-results{padding:.75rem}.theme__toggle{align-items:center;background:none;border:none;color:var(--yellow1);cursor:pointer;display:flex;grid-area:theme-toggle;margin:0 1rem}.theme__toggle:hover{color:var(--yellow2)}.theme__toggle svg{height:28px;width:28px}nav#menu{align-items:center;display:flex;grid-area:nav;justify-content:flex-end}nav#menu .menu__item{color:var(--fg)}nav#menu .menu__item:hover{color:var(--fg3);cursor:pointer}nav#menu ul{list-style:none;margin:0;padding:0}nav#menu ul.menu--horizontal{align-items:center;display:none}nav#menu ul.menu--horizontal li{display:inline-block;margin:0 .75rem}@media (min-width:768px){nav#menu ul.menu--horizontal{display:flex}}nav#menu ul.menu--vertical{background:var(--fg0);bottom:0;margin:0;padding:3rem;position:fixed;right:0;top:0;transform:translate(100%);transition:transform .5s cubic-bezier(.9,0,.1,1);width:50%;z-index:10}nav#menu ul.menu--vertical .menu__item{color:var(--bg1)}nav#menu ul.menu--vertical .menu__item:hover{color:var(--bg4)}nav#menu .menu__burger{display:flex;height:24px;width:24px}nav#menu .menu__burger>*{position:absolute}nav#menu .menu__burger svg{height:inherit;width:inherit;z-index:20}nav#menu .menu__burger svg line{transition-duration:.5s;transition-property:stroke,opacity,transform;transition-timing-function:cubic-bezier(.9,0,.1,1)}nav#menu .menu__burger svg line:first-of-type{transform-origin:center 6px}nav#menu .menu__burger svg line:nth-of-type(2){transform-origin:center 12px}nav#menu .menu__burger svg line:nth-of-type(3){transform-origin:center 18px}nav#menu .menu__burger input{height:inherit;opacity:0;width:inherit;z-index:30}nav#menu .menu__burger input:checked~ul.menu--vertical{transform:none}nav#menu .menu__burger input:checked~svg{stroke:var(--bg1)}nav#menu .menu__burger input:checked~svg line:first-of-type{transform:translateY(6px) rotate(45deg)}nav#menu .menu__burger input:checked~svg line:nth-of-type(2){opacity:0;transform:scale(.2)}nav#menu .menu__burger input:checked~svg line:nth-of-type(3){transform:translateY(-6px) rotate(-45deg)}@media (min-width:768px){nav#menu .menu__burger{display:none}}

/*! Source: https://stackoverflow.com/a/36118384/1154965 */@keyframes blink{50%{opacity:0}to{opacity:1}}.sidebar{font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace);margin-left:auto;margin-right:auto;max-width:350px;padding-left:2.5rem}.sidebar svg{fill:var(--fg)}.sidebar__heading{font-size:1.3rem}aside.toc a{color:var(--aqua2);color:var(--primary-alt)}aside.toc a:hover{color:var(--aqua1);color:var(--primary)}aside.toc ul{list-style:none;margin:0;padding:0}aside.toc ul ul{font-size:.9rem;margin-left:.5rem}aside.toc ul li{line-height:1.1}aside.toc ul li a{display:block;padding:.2rem 0}.jr-basics__image{background:var(--bg1);border:2px solid var(--bg2)}.jr-basics__profile a:hover{color:var(--fg3)}.jr-basics__profile a:hover svg{fill:var(--fg3)}.post{border-bottom:2px dotted var(--bg1);padding:2rem 0}.post-content__read-more,.post-header{font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace)}.post-meta img:not(figure img){margin:.5rem 0}.post-content{margin:1.3rem 0}.post-content img:not(figure img){margin:.5rem 0;max-width:calc(100% - 2rem)}.post-content__read-more{margin-top:1.3rem}.post-content__read-more,.post-content a,.post-header a{color:var(--aqua2);color:var(--primary-alt)}.post-content a:hover,.post-header a:hover{color:var(--aqua1);color:var(--primary)}.post-tags,.social-share{grid-gap:.9rem;align-items:center;display:flex;flex-wrap:wrap;gap:.9rem;margin:1rem 0}.post-tag{font-size:.9rem;line-height:1}.post-tag:before{content:"#"}.social-share{border-top:2px dotted var(--bg1);display:flex;margin:3rem 0;padding-top:3rem}.social-share a{display:flex}.social-share svg{fill:var(--aqua2);fill:var(--primary-alt);height:24px;width:24px}.social-share svg:hover{fill:var(--aqua1);fill:var(--primary)}.social-share svg.icon-tabler{fill:none;stroke:var(--aqua2);stroke:var(--primary-alt)}.social-share svg.icon-tabler:hover{stroke:var(--aqua1);stroke:var(--primary)}.post-heading__anchor{display:none}h1:hover .post-heading__anchor,h2:hover .post-heading__anchor,h3:hover .post-heading__anchor,h4:hover .post-heading__anchor,h5:hover .post-heading__anchor{display:inline-block}.jr__item-meta{flex-direction:column}.jr-basics__image,.jr-basics__item,.jr-basics__profile-icon,.jr-basics__profile-item,.jr__item-meta{align-items:center;display:flex}.jr-basics__name,.jr-projects__roles,.jr-work__position{font-size:1.125rem;font-weight:700}.jr-basics__item{flex-direction:column;text-align:center}.jr-basics__item hr{margin:1.5rem auto}.jr-basics__image{border-radius:50%;height:250px;justify-content:center;overflow:hidden;width:250px}.jr-basics__label,.jr-basics__name,.jr-basics__summary{margin-top:.75rem}.jr-basics__profile svg{height:24px;width:24px}.jr-basics__profile,.jr-basics__profile-item{display:flex}.jr-basics__profile-item{display:flex;padding:.2rem}.jr-basics__profile--row{flex-wrap:wrap;justify-content:space-evenly}.jr-basics__profile-icon{padding:0 .75rem}.jr__item-meta{align-items:start;flex-flow:column;font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace)}@media (min-width:768px){.jr__item-meta{align-items:center;flex-flow:row wrap}.jr-work__location,.jr__date-range{flex-grow:1;text-align:right}}#cookie-consent{-webkit-animation:fadeIn .75s;animation:fadeIn .75s;background:var(--bg);border-radius:.2rem;bottom:1rem;box-shadow:0 -.5rem 1rem var(--bg1);font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace);left:1rem;padding:1rem;position:fixed;right:1rem;z-index:2000}@media (min-width:768px){#cookie-consent{padding:2.5rem}}#cookie-consent button{background:none;border:none;color:var(--aqua2);color:var(--primary-alt);font-size:1.125rem;margin:0 1rem;white-space:nowrap}#cookie-consent button:hover{color:var(--aqua1);color:var(--primary);cursor:pointer}.cookie-consent--hidden{display:none}.cli-prompt{display:flex;justify-content:center}.cli-prompt__cursor{-webkit-animation:blink 1s infinite;animation:blink 1s infinite}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}</style>
<link rel=preload href="/css/non-critical.9d59d6fc5f21cb1060f4d05fb46563abed03be804ded303593d5706e739f86f30b841cbaf8bfe0dd7129b76f211635d51e84610d5a4336812dc744aa2f865d08.css" as=style onload="this.onload=null,this.rel='stylesheet'" integrity="sha512-nVnW/F8hyxBg9NBftGVjq+0DvoBN7TA1k9VwbnOfhvMLhBy6+L/g3XEpt28hFjXVHoRhDVpDNoEtx0SqL4ZdCA==">
<link id=prism-dark rel=prefetch href=/prism-themes/prism-gruvbox-dark.min.54aecc64074623a4f9898544dcbdab9e804f1560ef0b38f4cf8e10fcaaf72264e798cb407c601aca6ecd833ec4eb93d66535581f18d45ba202cf848b70dbc332.css as=style onload="this.onload=null,this.rel='stylesheet'" integrity="sha512-VK7MZAdGI6T5iYVE3L2rnoBPFWDvCzj0z44Q/Kr3ImTnmMtAfGAaym7Ngz7E65PWZTVYHxjUW6ICz4SLcNvDMg==">
<link id=prism-light rel=prefetch href=/prism-themes/prism-gruvbox-light.min.42a221741efe997fcc94187c39d63c555560678789ac9ca856c74a5f0ddb2aa6c50d38b2ffbecc7a99038cbbd2efa99746e862267f781c559e0cfec10b88a5fc.css as=style onload="this.onload=null,this.rel='stylesheet'" integrity="sha512-QqIhdB7+mX/MlBh8OdY8VVVgZ4eJrJyoVsdKXw3bKqbFDTiy/77MepkDjLvS76mXRuhiJn94HFWeDP7BC4il/A==" disabled>
<noscript>
<link rel=stylesheet href=/prism-themes/prism-gruvbox-dark.min.54aecc64074623a4f9898544dcbdab9e804f1560ef0b38f4cf8e10fcaaf72264e798cb407c601aca6ecd833ec4eb93d66535581f18d45ba202cf848b70dbc332.css integrity="sha512-VK7MZAdGI6T5iYVE3L2rnoBPFWDvCzj0z44Q/Kr3ImTnmMtAfGAaym7Ngz7E65PWZTVYHxjUW6ICz4SLcNvDMg==">
<link rel=stylesheet href="/css/non-critical.9d59d6fc5f21cb1060f4d05fb46563abed03be804ded303593d5706e739f86f30b841cbaf8bfe0dd7129b76f211635d51e84610d5a4336812dc744aa2f865d08.css" integrity="sha512-nVnW/F8hyxBg9NBftGVjq+0DvoBN7TA1k9VwbnOfhvMLhBy6+L/g3XEpt28hFjXVHoRhDVpDNoEtx0SqL4ZdCA==">
</noscript>
<script>(()=>{function c(){if(localStorage&&localStorage.getItem("theme"))return localStorage.getItem("theme");if(window.matchMedia)return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}function a(a){document.documentElement.setAttribute("theme",a);let b=document.getElementById("prism-dark"),c=document.getElementById("prism-light");b.toggleAttribute("disabled",a==="light"),c.toggleAttribute("disabled",a==="dark"),localStorage.setItem("theme",a)}var b=c();b&&a(b);function d(b){let c=b.currentTarget.classList.contains("light--hidden")?"light":"dark";a(c)}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".theme__toggle").forEach(a=>{a.addEventListener("click",d)})})})()</script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<meta name=msapplication-TileColor content="#282828">
<meta name=theme-color content="#282828">
</head>
<body>
<div class=layout>
<header>
<a class=logo href=/>
<div class=logo__text>schnerring.net</div>
<div class=logo__chevron>></div>
<div class=logo__cursor>█</div>
</a>
<div class=search>
<input id=search__text type=search placeholder=Search... aria-label=Search autocomplete=off>
<div id=search__suggestions class=search__suggestions--hidden></div>
</div>
<nav id=menu>
<ul class=menu--horizontal>
<li class=menu__item>
<a href=/blog>Blog</a>
</li>
<li class=menu__item>
<a href=/cv>CV</a>
</li>
<li class=menu__item>
<a href=/about>About</a>
</li>
<li class=menu__item>
<a href=/stats>Stats</a>
</li>
</ul>
<div class=menu__burger>
<input class=menu__item type=checkbox aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="6" x2="20" y2="6"/><line x1="4" y1="12" x2="20" y2="12"/><line x1="4" y1="18" x2="20" y2="18"/></svg>
<ul class=menu--vertical>
<li>
<a class=menu__item href=/blog>Blog</a>
</li>
<li>
<a class=menu__item href=/cv>CV</a>
</li>
<li>
<a class=menu__item href=/about>About</a>
</li>
<li>
<a class=menu__item href=/stats>Stats</a>
</li>
</ul>
</div>
</nav>
<button class="theme__toggle light--hidden" aria-label="Toggle light mode"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="4"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></svg>
</button>
<button class="theme__toggle dark--hidden" aria-label="Toggle dark mode"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg>
</button>
</header>
<main>
<div class=content>
<article class=post>
<div class=post-header>
<h1>
<a href=/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/>Set Up Azure Active Directory Domain Services (AADDS) With Terraform</a>
</h1>
<div class=post-meta>
<span>2022-02-20</span>
<div class=post-tags>
<a class=post-tag href=https://schnerring.net/tags/aadds>aadds</a>
<a class=post-tag href=https://schnerring.net/tags/arm>arm</a>
<a class=post-tag href=https://schnerring.net/tags/azure>azure</a>
<a class=post-tag href=https://schnerring.net/tags/azure-active-directory-domain-services>azure&#8209;active&#8209;directory&#8209;domain&#8209;services</a>
<a class=post-tag href=https://schnerring.net/tags/cloud>cloud</a>
<a class=post-tag href=https://schnerring.net/tags/iac>iac</a>
<a class=post-tag href=https://schnerring.net/tags/infrastructure-as-code>infrastructure&#8209;as&#8209;code</a>
<a class=post-tag href=https://schnerring.net/tags/terraform>terraform</a>
</div>
<picture>
<source srcset="/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_300x0_resize_q90_h2_box.webp 300w,/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_400x0_resize_q90_h2_box.webp 400w,/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_500x0_resize_q90_h2_box.webp 500w,/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_600x0_resize_q90_h2_box.webp 600w,/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_700x0_resize_q90_h2_box.webp 700w">
<img src=/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover.jpg srcset="/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_300x0_resize_q90_box.jpg 300w,/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_400x0_resize_q90_box.jpg 400w,/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_500x0_resize_q90_box.jpg 500w,/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_600x0_resize_q90_box.jpg 600w,/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform-updated/cover_hu22b9c7fce07d9deac9cf6b4d56786935_44448_700x0_resize_q90_box.jpg 700w" alt loading=lazy width=1001 height=503>
</picture>
</div>
</div>
<div class=post-content>
<p>I wanted to revisit this topic for a while because the <a href=/blog/set-up-azure-active-directory-domain-services-aadds-with-terraform>previous guide I wrote about setting up Azure Active Directory Domain Services (AADDS) with Terraform</a> is outdated. However, the article still attracts around 100 visitors per month. People also keep downloading the deprecated Terraform module I created. Time to set things right!</p>
<p>With <a href=https://github.com/terraform-providers/terraform-provider-azurerm/releases/tag/v2.69.0 class=link--external target=_blank rel=noreferrer>v2.69.0 of the official Terraform azurerm provider</a> released, the <a href=https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/active_directory_domain_service class=link--external target=_blank rel=noreferrer><code>active_directory_domain_service</code></a> resource is now available. In this post, I&rsquo;ll briefly walk you through the required steps of setting up AADDS. <a href=https://docs.microsoft.com/en-us/azure/active-directory-domain-services/powershell-create-instance#create-required-azure-ad-resources class=link--external target=_blank rel=noreferrer>See also the official Microsoft documentation for more details.</a></p>
<p><a href=https://github.com/schnerring/terraform-azurerm-avd/tree/v0.1.0 class=link--external target=_blank rel=noreferrer>I also published the code to a sample GitHub repo.</a></p>
<h2 id=what-are-azure-active-directory-domain-services>
What Are Azure Active Directory Domain Services?
<a href=#what-are-azure-active-directory-domain-services class=post-heading__anchor aria-hidden=true>#</a>
</h2>
<p>Bringing traditional Active Directory Domain Services (AD DS) to the cloud, typically required to set up, secure, and maintain domain controllers (DCs). Azure Active Directory Domain Services (AADDS or Azure AD DS) is a <em>Microsoft-managed</em> solution, providing a subset of <a href=https://docs.microsoft.com/en-us/azure/active-directory-domain-services/compare-identity-solutions class=link--external target=_blank rel=noreferrer>traditional AD DS features</a> without the need to <em>self-manage</em> DCs. One such service that requires AD DS features is <a href=https://docs.microsoft.com/en-us/azure/virtual-desktop/overview class=link--external target=_blank rel=noreferrer>Azure Virtual Desktop (AVD)</a>.</p>
<h2 id=prerequisites>
Prerequisites
<a href=#prerequisites class=post-heading__anchor aria-hidden=true>#</a>
</h2>
<p>Before getting started, you need the following things:</p>
<ul>
<li>Active Azure subscription</li>
<li><a href=https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-create-new-tenant class=link--external target=_blank rel=noreferrer>Azure Active Directory (Azure AD / AAD) tenant</a></li>
</ul>
<h2 id=service-principal>
Service Principal
<a href=#service-principal class=post-heading__anchor aria-hidden=true>#</a>
</h2>
<p>First, create the service principal for the <em>Domain Controller Services</em> published application. In public Azure, the ID is <code>2565bd9d-da50-47d4-8b85-4c97f669dc36</code>. For other clouds the value is <code>6ba9a5d4-8456-4118-b521-9c5ca10cdf84</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azuread_service_principal&#34; &#34;aadds&#34;</span> {
  application_id <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;2565bd9d-da50-47d4-8b85-4c97f669dc36&#34;</span>
}
</code></pre></div><p>If the service principal already exists, the following error occurs:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>Error: A resource with the ID &#34;11111111-1111-1111-1111-111111111111&#34; already exists

  with azuread_service_principal.aadds,
  on aadds.tf line 2, in resource &#34;azuread_service_principal&#34; &#34;aadds&#34;:
   2: resource &#34;azuread_service_principal&#34; &#34;aadds&#34; {

To be managed via Terraform, this resource needs to be imported into the State. Please see the resource documentation for &#34;azuread_service_principal&#34; for more
information.
</code></pre></div><p>Import the service principal with the following command:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>terraform</span> <span style=color:#66d9ef>import</span> <span style=color:#66d9ef>azuread_service_principal</span>.<span style=color:#66d9ef>aadds</span> <span style=color:#ae81ff>11111111</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#ae81ff>1111</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#ae81ff>1111</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#ae81ff>1111</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#ae81ff>111111111111</span>
</code></pre></div><p>Note that <code>11111111-1111-1111-1111-111111111111</code> is the <em>Object ID</em> and not the <em>Application ID</em>.</p>
<h2 id=microsoftaad-resource-provider-registration>
<code>Microsoft.AAD</code> Resource Provider Registration
<a href=#microsoftaad-resource-provider-registration class=post-heading__anchor aria-hidden=true>#</a>
</h2>
<p>To use AADDS, register the <code>Microsoft.AAD</code> resource provider:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azurerm_resource_provider_registration&#34; &#34;aadds&#34;</span> {
  name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Microsoft.AAD&#34;</span>
}
</code></pre></div><p>If the provider is already registered, you can import it into Terraform with the following command:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>terraform import azurerm_resource_provider_registration.aadds /subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.AAD
</code></pre></div><h2 id=dc-admin-group-and-user>
DC Admin Group and User
<a href=#dc-admin-group-and-user class=post-heading__anchor aria-hidden=true>#</a>
</h2>
<p>Next, create an Azure AD group for users administering the AADDS domain and add an admin.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azuread_group&#34; &#34;dc_admins&#34;</span> {
  display_name     <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AAD DC Administrators&#34;</span>
  description      <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AADDS Administrators&#34;</span>
  members          <span style=color:#f92672>=</span> [<span style=color:#66d9ef>azuread_user</span>.<span style=color:#66d9ef>dc_admin</span>.<span style=color:#66d9ef>object_id</span>]
  security_enabled <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
}

<span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;random_password&#34; &#34;dc_admin&#34;</span> {
  length <span style=color:#f92672>=</span> <span style=color:#ae81ff>64</span>
}

<span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azuread_user&#34; &#34;dc_admin&#34;</span> {
  user_principal_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;dc-admin@example.com&#34;</span>
  display_name        <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AADDS DC Administrator&#34;</span>
  password            <span style=color:#f92672>=</span> <span style=color:#66d9ef>random_password</span>.<span style=color:#66d9ef>dc_admin</span>.<span style=color:#66d9ef>result</span>
}
</code></pre></div><h2 id=resource-group>
Resource Group
<a href=#resource-group class=post-heading__anchor aria-hidden=true>#</a>
</h2>
<p>Add the resource group for AADDS resources:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azurerm_resource_group&#34; &#34;aadds&#34;</span> {
  name     <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aadds-rg&#34;</span>
  location <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Switzerland North&#34;</span>
}
</code></pre></div><h2 id=network-resources>
Network Resources
<a href=#network-resources class=post-heading__anchor aria-hidden=true>#</a>
</h2>
<p>Add the virtual network and subnet next.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azurerm_virtual_network&#34; &#34;aadds&#34;</span> {
  name                <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aadds-vnet&#34;</span>
  location            <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_resource_group</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>location</span>
  resource_group_name <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_resource_group</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>name</span>
  address_space       <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;10.0.0.0/16&#34;</span>]
}

<span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azurerm_subnet&#34; &#34;aadds&#34;</span> {
  name                 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aadds-snet&#34;</span>
  resource_group_name  <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_resource_group</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>name</span>
  virtual_network_name <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_virtual_network</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>name</span>
  address_prefixes     <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;10.0.0.0/24&#34;</span>]
}
</code></pre></div><p>To lock down access to the managed domain, add the following <em>network security group</em>. The <code>AllowRD</code> and <code>AllowPSRemoting</code> rules <a href=https://docs.microsoft.com/en-us/azure/active-directory-domain-services/alert-nsg#inbound-security-rules class=link--external target=_blank rel=noreferrer>allow the Azure platform to monitor, manage, and update the managed domain</a>:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azurerm_network_security_group&#34; &#34;aadds&#34;</span> {
  name                <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aadds-nsg&#34;</span>
  location            <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_resource_group</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>location</span>
  resource_group_name <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_resource_group</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>name</span>

  <span style=color:#66d9ef>security_rule</span> {
    name                       <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AllowRD&#34;</span>
    priority                   <span style=color:#f92672>=</span> <span style=color:#ae81ff>201</span>
    direction                  <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Inbound&#34;</span>
    access                     <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Allow&#34;</span>
    protocol                   <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tcp&#34;</span>
    source_port_range          <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;*&#34;</span>
    destination_port_range     <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;3389&#34;</span>
    source_address_prefix      <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;CorpNetSaw&#34;</span>
    destination_address_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;*&#34;</span>
  }

  <span style=color:#66d9ef>security_rule</span> {
    name                       <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AllowPSRemoting&#34;</span>
    priority                   <span style=color:#f92672>=</span> <span style=color:#ae81ff>301</span>
    direction                  <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Inbound&#34;</span>
    access                     <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Allow&#34;</span>
    protocol                   <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tcp&#34;</span>
    source_port_range          <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;*&#34;</span>
    destination_port_range     <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;5986&#34;</span>
    source_address_prefix      <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AzureActiveDirectoryDomainServices&#34;</span>
    destination_address_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;*&#34;</span>
  }
}

<span style=color:#66d9ef>resource</span> <span style=color:#66d9ef>azurerm_subnet_network_security_group_association</span> <span style=color:#e6db74>&#34;aadds&#34;</span> {
  subnet_id                 <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_subnet</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>id</span>
  network_security_group_id <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_network_security_group</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>id</span>
}
</code></pre></div><p>When you enable secure LDAP, <a href=https://docs.microsoft.com/en-us/azure/active-directory-domain-services/alert-ldaps#resolution class=link--external target=_blank rel=noreferrer>it&rsquo;s recommended to create an additional security rule to restrict inbound LDAPS access to specific IP addresses to protect the managed domain from brute force attacks</a>:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>security_rule</span> {
  name                       <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AllowLDAPS&#34;</span>
  priority                   <span style=color:#f92672>=</span> <span style=color:#ae81ff>401</span>
  direction                  <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Inbound&#34;</span>
  access                     <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Allow&#34;</span>
  protocol                   <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tcp&#34;</span>
  source_port_range          <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;*&#34;</span>
  destination_port_range     <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;636&#34;</span>
  source_address_prefix      <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&lt;Authorized LDAPS IPs&gt;&#34;</span>
  destination_address_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;*&#34;</span>
}
</code></pre></div><h2 id=aadds-managed-domain>
AADDS Managed Domain
<a href=#aadds-managed-domain class=post-heading__anchor aria-hidden=true>#</a>
</h2>
<p>Finally, deploy the AADDS managed domain:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azurerm_active_directory_domain_service&#34; &#34;aadds&#34;</span> {
  name                <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aadds&#34;</span>
  location            <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_resource_group</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>location</span>
  resource_group_name <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_resource_group</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>name</span>

  domain_name           <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aadds.example.com&#34;</span>
  sku                   <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Standard&#34;</span>

  <span style=color:#66d9ef>initial_replica_set</span> {
    subnet_id <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_subnet</span>.<span style=color:#66d9ef>aadds</span>.<span style=color:#66d9ef>id</span>
  }

  <span style=color:#66d9ef>notifications</span> {
    additional_recipients <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;alice@example.com&#34;, &#34;bob@example.com&#34;</span>]
    notify_dc_admins      <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
    notify_global_admins  <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
  }

  <span style=color:#66d9ef>security</span> {
    sync_kerberos_passwords <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
    sync_ntlm_passwords     <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
    sync_on_prem_passwords  <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
  }

  depends_on <span style=color:#f92672>=</span> [
    <span style=color:#66d9ef>azuread_service_principal</span>.<span style=color:#66d9ef>aadds</span>,
    <span style=color:#66d9ef>azurerm_resource_provider_registration</span>.<span style=color:#66d9ef>aadds</span>,
    <span style=color:#66d9ef>azurerm_subnet_network_security_group_association</span>.<span style=color:#66d9ef>aadds</span>,
  ]
}
</code></pre></div><p>Run <code>terraform apply</code> to deploy everything. It takes an hour to complete. Please share your thoughts with me in the comments or on Twitter!</p>
</div>
<div class=social-share>
<strong>Share this post: </strong>
<a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Facebook</title><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312.0 2.686.235 2.686.235v2.953H15.83c-1.491.0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
</a>
<a href="https://reddit.com/submit?url=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F&title=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Reddit</title><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg>
</a>
<a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F&text=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958.0 002.163-2.723c-.951.555-2.005.959-3.127 1.184A4.92 4.92.0 0011.78 8.288C7.69 8.095 4.067 6.13 1.64 3.162A4.822 4.822.0 00.974 5.637c0 1.71.87 3.213 2.188 4.096A4.904 4.904.0 01.934 9.117v.06a4.923 4.923.0 003.946 4.827 4.996 4.996.0 01-2.212.085 4.936 4.936.0 004.604 3.417A9.867 9.867.0 011.17 19.611c-.39.0-.779-.023-1.17-.067a13.995 13.995.0 007.557 2.209c9.053.0 13.998-7.496 13.998-13.985.0-.21.0-.42-.015-.63A9.935 9.935.0 0024 4.59z"/></svg>
</a>
<a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
</a>
<a href="whatsapp://send/?text=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform%20https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>WhatsApp</title><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198.0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479.0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87.0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86.0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64.0 5.122 1.03 6.988 2.898a9.825 9.825.0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815.0 0012.05.0C5.495.0.16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882.0 005.683 1.448h.005c6.554.0 11.89-5.335 11.893-11.893a11.821 11.821.0 00-3.48-8.413z"/></svg>
</a>
<a href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F&title=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform&caption=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Tumblr</title><path d="M14.563 24c-5.093.0-7.031-3.756-7.031-6.411V9.747H5.116V6.648c3.63-1.313 4.512-4.596 4.71-6.469C9.84.051 9.941.0 9.999.0h3.517v6.114h4.801v3.633h-4.82v7.47c.016 1.001.375 2.371 2.207 2.371h.09c.631-.02 1.486-.205 1.936-.419l1.156 3.425c-.436.636-2.4 1.374-4.156 1.404h-.178l.011.002z"/></svg>
</a>
<a href="http://pinterest.com/pin/create/button/?url=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Pinterest</title><path d="M12.017.0C5.396.0.029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024.0 1.518.769 1.518 1.688.0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128.0 3.768-2.245 3.768-5.487.0-2.861-2.063-4.869-5.008-4.869-3.41.0-5.409 2.562-5.409 5.199.0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646.0-3.776 2.748-7.252 7.92-7.252 4.158.0 7.392 2.967 7.392 6.923.0 4.135-2.607 7.462-6.233 7.462-1.214.0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607.0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017.0z"/></svg>
</a>
<a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F&t=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Y Combinator</title><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
</a>
<a href="http://vk.com/share.php?url=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F&title=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform&comment=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>VK</title><path d="m9.489.004.729-.003h3.564l.73.003.914.01.433.007.418.011.403.014.388.016.374.021.36.025.345.03.333.033c1.74.196 2.933.616 3.833 1.516s1.32 2.092 1.516 3.833l.034.333.029.346.025.36.02.373.025.588.012.41.013.644.009.915.004.98-.001 3.313-.003.73-.01.914-.007.433-.011.418-.014.403-.016.388-.021.374-.025.36-.03.345-.033.333c-.196 1.74-.616 2.933-1.516 3.833-.9.9-2.092 1.32-3.833 1.516l-.333.034-.346.029-.36.025-.373.02-.588.025-.41.012-.644.013-.915.009-.98.004-3.313-.001-.73-.003-.914-.01-.433-.007-.418-.011-.403-.014-.388-.016-.374-.021-.36-.025-.345-.03-.333-.033c-1.74-.196-2.933-.616-3.833-1.516-.9-.9-1.32-2.092-1.516-3.833l-.034-.333-.029-.346-.025-.36-.02-.373-.025-.588-.012-.41-.013-.644-.009-.915-.004-.98.001-3.313.003-.73.01-.914.007-.433.011-.418.014-.403.016-.388.021-.374.025-.36.03-.345.033-.333c.196-1.74.616-2.933 1.516-3.833.9-.9 2.092-1.32 3.833-1.516l.333-.034.346-.029.36-.025.373-.02.588-.025.41-.012.644-.013.915-.009zM6.79 7.3H4.05c.13 6.24 3.25 9.99 8.72 9.99h.31v-3.57c2.01.2 3.53 1.67 4.14 3.57h2.84c-.78-2.84-2.83-4.41-4.11-5.01 1.28-.74 3.08-2.54 3.51-4.98h-2.58c-.56 1.98-2.22 3.78-3.8 3.95V7.3H10.5v6.92c-1.6-.4-3.62-2.34-3.71-6.92z"/></svg>
</a>
<a href="https://www.xing.com/spi/shares/new?url=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Xing</title><path d="M18.188.0c-.517.0-.741.325-.927.66.0.0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211.0.375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016.0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894.0 21.686.0h-3.498zM3.648 4.74c-.211.0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016.0.021L1.86 16.051c-.099.188-.093.381.0.529.085.142.239.234.45.234h3.461c.518.0.766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></svg>
</a>
<a href="https://telegram.me/share/url?url=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F&text=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform" target=_blank rel=noreferrer><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Telegram</title><path d="M11.944.0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0a12 12 0 00-.056.0zm4.962 7.224c.1-.002.321.023.465.14a.506.506.0 01.171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
</a>
<a href="mailto:?subject=Set+Up+Azure+Active+Directory+Domain+Services+%28AADDS%29+With+Terraform&body=https%3A%2F%2Fschnerring.net%2Fblog%2Fset-up-azure-active-directory-domain-services-aadds-with-terraform-updated%2F" target=_blank rel=noreferrer><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="3" y="5" width="18" height="14" rx="2"/><polyline points="3 7 12 13 21 7"/></svg>
</a>
</div>
<div id=remark42></div>
<script>var remark_config={host:"https://remark42.schnerring.net",site_id:"schnerring.net",theme:localStorage.getItem("theme"),show_email_subscription:!1}</script>
<script>!function(d,b){for(var c=0,a,e,f;c<d.length;c++)a=b.createElement("script"),e=".js",f=b.head||b.body,"noModule"in a?(a.type="module",e=".mjs"):a.async=!0,a.defer=!0,a.src=remark_config.host+"/web/"+d[c]+e,f.appendChild(a)}(remark_config.components||["embed"],document)</script>
<script>const themeToggleLight=document.getElementsByClassName("theme__toggle light--hidden").item(0);themeToggleLight.addEventListener("click",()=>{setTimeout(()=>window.REMARK42.changeTheme("light"),10)});const themeToggleDark=document.getElementsByClassName("theme__toggle dark--hidden").item(0);themeToggleDark.addEventListener("click",()=>{setTimeout(()=>window.REMARK42.changeTheme("dark"),10)})</script>
<script>function cookieConsentClick(){localStorage.setItem("cookie-consent",!0);const a=document.getElementById("cookie-consent");a.classList.add("cookie-consent--hidden")}</script>
<div id=cookie-consent class=cookie-consent--hidden>
<div class=cli-prompt>
<div class=cli-prompt__chevron>>&nbsp;</div>
<div class=cli-prompt__text>
<span>When you participate in the comments, a cookie is used to keep you logged in.</span>
<span class=cli-prompt__cursor>█</span>
</div>
<button onclick=cookieConsentClick()>Got it!</button>
</div>
</div>
<script>const cookieConsentAccepted=localStorage&&localStorage.getItem("cookie-consent");if(!cookieConsentAccepted){const a=document.getElementById("cookie-consent");a.classList.remove("cookie-consent--hidden")}</script>
</article>
</div>
<div class=sidebar>
<aside class=bio>
<section class="jr__item jr-basics__item">
<div class=jr-basics__image>
<img src=https://schnerring.net/michael-schnerring.jpg alt="Picture of Michael Schnerring" width=250 height=250>
</div>
<div class=jr-basics__name>Michael Schnerring</div>
<div class=jr-basics__label>Software Engineer</div>
<div class=jr-basics__summary>I've been a computer geek all my life. I'm passionate about open-source and digital privacy. I like video games and CrossFit. I'm also terrible at blogging.</div>
<div class=jr-basics__location-city>Zurich</div>
<div class=jr-basics__location-region>Switzerland</div>
<hr>
<div class="jr-basics__profile jr-basics__profile--row">
<a href=https://github.com/schnerring>
<div class=jr-basics__profile-item>
<div class=jr-basics__profile-icon><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
</div>
</div>
</a>
<a href=https://www.linkedin.com/in/schnerring>
<div class=jr-basics__profile-item>
<div class=jr-basics__profile-icon><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
</div>
</div>
</a>
<a href=https://twitter.com/schnerringo>
<div class=jr-basics__profile-item>
<div class=jr-basics__profile-icon><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958.0 002.163-2.723c-.951.555-2.005.959-3.127 1.184A4.92 4.92.0 0011.78 8.288C7.69 8.095 4.067 6.13 1.64 3.162A4.822 4.822.0 00.974 5.637c0 1.71.87 3.213 2.188 4.096A4.904 4.904.0 01.934 9.117v.06a4.923 4.923.0 003.946 4.827 4.996 4.996.0 01-2.212.085 4.936 4.936.0 004.604 3.417A9.867 9.867.0 011.17 19.611c-.39.0-.779-.023-1.17-.067a13.995 13.995.0 007.557 2.209c9.053.0 13.998-7.496 13.998-13.985.0-.21.0-.42-.015-.63A9.935 9.935.0 0024 4.59z"/></svg>
</div>
</div>
</a>
<a href=https://matrix.to/#/@michael:schnerring.net>
<div class=jr-basics__profile-item>
<div class=jr-basics__profile-icon><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Matrix</title><path d="M.632.55v22.9H2.28V24H0V0h2.28v.55zm7.043 7.26v1.157h.033c.309-.443.683-.784 1.117-1.024.433-.245.936-.365 1.5-.365.54.0 1.033.107 1.481.314.448.208.785.582 1.02 1.108.254-.374.6-.706 1.034-.992.434-.287.95-.43 1.546-.43.453.0.872.056 1.26.167.388.11.716.286.993.53.276.245.489.559.646.951.152.392.23.863.23 1.417v5.728h-2.349V11.52c0-.286-.01-.559-.032-.812a1.755 1.755.0 00-.18-.66 1.106 1.106.0 00-.438-.448c-.194-.11-.457-.166-.785-.166-.332.0-.6.064-.803.189a1.38 1.38.0 00-.48.499 1.946 1.946.0 00-.231.696 5.56 5.56.0 00-.06.785v4.768h-2.35v-4.8c0-.254-.004-.503-.018-.752a2.074 2.074.0 00-.143-.688 1.052 1.052.0 00-.415-.503c-.194-.125-.476-.19-.854-.19-.111.0-.259.024-.439.074-.18.051-.36.143-.53.282-.171.138-.319.337-.439.595-.12.259-.18.6-.18 1.02v4.966H5.46V7.81zm15.693 15.64V.55H21.72V0H24v24h-2.28v-.55z"/></svg>
</div>
</div>
</a>
<a href=https://stackoverflow.com/users/1154965/michael-schnerring>
<div class=jr-basics__profile-item>
<div class=jr-basics__profile-icon><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Stack Overflow</title><path d="M15.725.0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725.0zm-3.94 3.418-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154z"/></svg>
</div>
</div>
</a>
<a href=https://schnerring.net/index.xml>
<div class=jr-basics__profile-item>
<div class=jr-basics__profile-icon><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS</title><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg>
</div>
</div>
</a>
</div>
</section>
</aside>
</div>
</main>
<footer>
<div class=copyright>
© 2020 Michael Schnerring
</div>
</footer>
<script type=text/javascript src=/js/main.4ff2f10f84f12edcd3384ac6f0e68ca3371accb50a70cf5cbee05b7624d88587a58830f04441b3e1d2311dcd379ee8e6f20a6c5b1124707e4007117247fe1b1d.js integrity="sha512-T/LxD4TxLtzTOErG8OaMozcazLUKcM9cvuBbdiTYhYeliDDwREGz4dIxHc03nujm8gpsWxEkcH5ABxFyR/4bHQ=="></script>
<script type=text/javascript src=/js/flexsearch.58b862176b425692fc3bd0fef4bea70dc374681b54f4f185310331858553b2076ba0de35e01a57f7489d693824c1f8effcdc24a10c5bf7aa5f216f2853742035.js integrity="sha512-WLhiF2tCVpL8O9D+9L6nDcN0aBtU9PGFMQMxhYVTsgdroN414BpX90idaTgkwfjv/NwkoQxb96pfIW8oU3QgNQ=="></script>
</div>
</body>
</html>