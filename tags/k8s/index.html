<!doctype html><html lang=en><head><title>k8s ::
Michael Schnerring — Coder and Computer Enthusiast</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://schnerring.net/tags/k8s/><link rel=stylesheet href=https://schnerring.net/assets/style.css><link rel=stylesheet href=https://schnerring.net/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://schnerring.net/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://schnerring.net/img/favicon.png><link href=https://schnerring.net/assets/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://schnerring.net/assets/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://schnerring.net/assets/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://schnerring.net/assets/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://schnerring.net/assets/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://schnerring.net/assets/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="k8s"><meta name=twitter:description content="Michael Schnerring is a coder and computer enthusiast."><meta property="og:title" content="k8s"><meta property="og:description" content="Michael Schnerring is a coder and computer enthusiast."><meta property="og:type" content="website"><meta property="og:url" content="https://schnerring.net/tags/k8s/"><meta property="og:site_name" content="Michael Schnerring"><link rel=alternate type=application/rss+xml href=/tags/k8s/index.xml title="Michael Schnerring"><script async defer data-domain=schnerring.net src=https://plausible.schnerring.net/js/plausible.js></script></head><body><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>schnerring.net</span>
<span class=logo__cursor></span></a><span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><div class=posts><div class="post on-list"><h1 class=post-title><a href=https://schnerring.net/posts/deploy-a-matrix-homeserver-to-azure-kubernetes-service-aks-with-terraform/>Deploy a Matrix Homeserver to Azure Kubernetes Service (AKS) with Terraform</a></h1><div class=post-meta><span class=post-date>2021-05-14</span></div><span class=post-tags><a href=https://schnerring.net/tags/aks/>#aks</a>&nbsp;
<a href=https://schnerring.net/tags/homeserver/>#homeserver</a>&nbsp;
<a href=https://schnerring.net/tags/k8s/>#k8s</a>&nbsp;
<a href=https://schnerring.net/tags/kubernetes/>#kubernetes</a>&nbsp;
<a href=https://schnerring.net/tags/matrix/>#matrix</a>&nbsp;
<a href=https://schnerring.net/tags/synapse/>#synapse</a>&nbsp;
<a href=https://schnerring.net/tags/synapse-admin-ui/>#synapse admin ui</a>&nbsp;
<a href=https://schnerring.net/tags/terraform/>#terraform</a>&nbsp;</span><figure class=post-cover><img src=https://schnerring.net/posts/deploy-a-matrix-homeserver-to-azure-kubernetes-service-aks-with-terraform/img/cover.svg alt="Deploy a Matrix Homeserver to Azure Kubernetes Service (AKS) with Terraform"></figure><div class=post-content><p>Did you ever think about running a Matrix homeserver? In this post, we will set one up on the <a href=https://azure.microsoft.com/en-us/services/kubernetes-service/>Azure Kubernetes Service</a> (AKS). We will use the reference homeserver implementation, which is <a href=https://github.com/matrix-org/synapse/>Synapse</a> from the folks at <a href=https://matrix.org/>matrix.org</a>. This post focuses on the Kubernetes stuff, so we will keep the Synapse configuration to a minimum. Things like <a href=https://github.com/matrix-org/synapse/blob/master/docs/federate.md>federation</a>, <a href=https://github.com/matrix-org/synapse/blob/master/docs/delegate.md>delegation</a> and <a href=https://github.com/matrix-org/synapse/blob/master/docs/postgres.md#set-up-database>PostgreSQL</a> are out of scope, because plenty of excellent guides and the official documentation exist covering that. The icing on the cake will be the <a href=https://github.com/Awesome-Technologies/synapse-admin>Synapse Admin UI</a> deployment with secure access to the <a href=https://github.com/matrix-org/synapse/blob/develop/docs/reverse_proxy.md#synapse-administration-endpoints>administration endpoints</a> to make management of our homeserver easier.</p></div></div><div class="post on-list"><h1 class=post-title><a href=https://schnerring.net/posts/use-terraform-to-deploy-an-azure-kubernetes-service-aks-cluster-traefik-2-cert-manager-and-lets-encrypt/>Use Terraform to Deploy an Azure Kubernetes Service (AKS) Cluster, Traefik 2, cert-manager, and Let&rsquo;s Encrypt</a></h1><div class=post-meta><span class=post-date>2021-04-25</span></div><span class=post-tags><a href=https://schnerring.net/tags/aks/>#aks</a>&nbsp;
<a href=https://schnerring.net/tags/azure/>#azure</a>&nbsp;
<a href=https://schnerring.net/tags/azure-kubernetes-service/>#azure kubernetes service</a>&nbsp;
<a href=https://schnerring.net/tags/cert-manager/>#cert-manager</a>&nbsp;
<a href=https://schnerring.net/tags/devops/>#devops</a>&nbsp;
<a href=https://schnerring.net/tags/helm/>#helm</a>&nbsp;
<a href=https://schnerring.net/tags/k8s/>#k8s</a>&nbsp;
<a href=https://schnerring.net/tags/kubernetes/>#kubernetes</a>&nbsp;
<a href=https://schnerring.net/tags/letsencrypt/>#letsencrypt</a>&nbsp;
<a href=https://schnerring.net/tags/terraform/>#terraform</a>&nbsp;
<a href=https://schnerring.net/tags/traefik/>#traefik</a>&nbsp;</span><div class=post-content><p>In this post, we will deploy a simple <a href=https://azure.microsoft.com/en-us/services/kubernetes-service/>Azure Kubernetes Service (AKS)</a> cluster from scratch. To expose our web services securely, we will install Traefik 2 and configure <a href=https://cert-manager.io/>cert-manager</a> to manage Let&rsquo;s Encrypt certificates. The best part about it: we will do everything with <a href=https://www.terraform.io/>Terraform</a>.</p></div></div><div class=pagination><div class=pagination__buttons></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><p>Copyright © 2020 Michael Schnerring</p><p xmlns:dct=http://purl.org/dc/terms/ xmlns:cc=http://creativecommons.org/ns# class=license-text><a rel=cc:attributionurl property="dct:title" href=https://github.com/schnerring/schnerring.github.io/tree/main/content>Content</a> licensed under <a rel=license href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a></p></div></div></footer><script src=https://schnerring.net/assets/main.js></script><script src=https://schnerring.net/assets/prism.js></script></div></body></html>